### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}
### search_filters = {FOCUS_FILTER_SOV_POLITICAL_PARANOIA}
### search_filters = {FOCUS_FILTER_PROPAGANDA}
### search_filters = {FOCUS_FILTER_ARMY_XP}
### search_filters = {FOCUS_FILTER_NAVY_XP}
### search_filters = {FOCUS_FILTER_AIR_XP}
# Reminder that focus filters prio has to be handled in the generic focus file :)

focus_tree = {
	id = soviet_focus_rework

	country = {
		factor = 0
		
		modifier = {
			add = 100
			tag = SOV
		}
	}
	
	default = no

	continuous_focus_position = { x = 55 y = 2000 }

	focus = {
		id = SOV_the_works_want_liberation
		icon = GFX_SOV_the_works_want_liberation
		x = 10
		y = 0
		cost = 10
		ai_will_do = {
			factor = 6
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			set_power_balance = {
				id = SOV_Troika_Opposition_power_struggle
				left_side = SOV_Troika_Opposition_power_struggle_Opposition
				right_side = SOV_Troika_Opposition_power_struggle_Troika
				set_value = 0.5
			}
			add_political_power = 200
		}
	}
	
	focus = {
		id = SOV_The_Writings_of_Marx
		icon = GFX_focus_eng_liberate_the_home_of_marx
		relative_position_id = SOV_the_works_want_liberation
		x = -2
		y = 1
		cost = 10
		ai_will_do = {
			factor = 6
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		prerequisite = {
			focus = SOV_the_works_want_liberation
		}
		completion_reward = {
			add_ideas = SOV_marxs_requiem
			add_power_balance_value = {
				id = SOV_Troika_Opposition_power_struggle
				value = -0.1
			}
		}
	}
	
	focus = {
		id = SOV_The_Spirit_of_Lenin
		icon = SOV_inheritor_of_lenin
		relative_position_id = SOV_the_works_want_liberation
		x = 0
		y = 1
		cost = 10
		ai_will_do = {
			factor = 6
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		prerequisite = {
			focus = SOV_the_works_want_liberation
		}
		completion_reward = {
			add_ideas = SOV_lenins_desire
			add_power_balance_value = {
				id = SOV_Troika_Opposition_power_struggle
				value = -0.15
			}
		}
	}
	
	focus = {
		id = SOV_The_Tactics_of_Engels
		icon = GFX_goal_generic_war_with_comintern
		relative_position_id = SOV_the_works_want_liberation
		x = 2
		y = 1
		cost = 10
		ai_will_do = {
			factor = 6
		}
		available = {
			power_balance_value = {
				id = SOV_Troika_Opposition_power_struggle
				value < -0.2
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		prerequisite = {
			focus = SOV_the_works_want_liberation
		}
		completion_reward = {
			add_ideas = SOV_By_means_of_Terror
			add_power_balance_value = {
				id = SOV_Troika_Opposition_power_struggle
				value = -0.2
			}
		}
	}
	
	focus = {
		id = SOV_The_Line_Corrected
		icon = GFX_focus_SOV_the_path_of_marxism_leninism
		relative_position_id = SOV_The_Spirit_of_Lenin
		x = 0
		y = 1
		cost = 10
		ai_will_do = {
			factor = 6
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		available = {
			power_balance_value = {
				id = SOV_Troika_Opposition_power_struggle
				value < -0.4
			}
		}
		prerequisite = {
			focus = SOV_The_Spirit_of_Lenin
		}
		prerequisite = {
			focus = SOV_The_Tactics_of_Engels
		}
		prerequisite = {
			focus = SOV_The_Writings_of_Marx
		}
		completion_reward = {
			unlock_decision_category_tooltip = SOV_The_Inevitable_Civil_War
			add_power_balance_value = {
				id = SOV_Troika_Opposition_power_struggle
				value = -0.1
			}
		}
	}
	
	focus = {
		id = SOV_Prepare_the_Baricades
		icon = GFX_focus_FIN_motti_tactics
		relative_position_id = SOV_The_Line_Corrected
		x = -1
		y = 1
		cost = 10
		ai_will_do = {
			factor = 6
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		prerequisite = {
			focus = SOV_The_Line_Corrected
		}
		completion_reward = {
			custom_effect_tooltip = SOV_Prepare_the_Baricades_effect
			add_days_mission_timeout = {
				mission = SOV_until_the_last_day
				days = -120
			}
		}
	}
	
	focus = {
		id = SOV_The_Red_Terror_Marches_On
		icon = GFX_focus_SOV_builder_of_the_red_army
		relative_position_id = SOV_The_Line_Corrected
		x = 1
		y = 1
		cost = 10
		ai_will_do = {
			factor = 6
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		prerequisite = {
			focus = SOV_The_Line_Corrected
		}
		completion_reward = {
			custom_effect_tooltip = SOV_The_Red_Terror_Marches_On_effect
		}
	}
	
	focus = {
		id = SOV_the_second_october_revolution
		icon = GFX_focus_focus_fra_revolution_utmost
		relative_position_id = SOV_Prepare_the_Baricades
		x = 1
		y = 1
		cost = 1
		ai_will_do = {
			factor = 6
		}
		available = {
			always = no
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		prerequisite = {
			focus = SOV_Prepare_the_Baricades
		}
		prerequisite = {
			focus = SOV_The_Red_Terror_Marches_On
		}
		completion_reward = {
			news_event = Soviet.62
		}
	}
	
	focus = {
		id = SOV_comrades_onwards
		icon = GFX_focus_SOV_the_glory_of_the_red_army_communism
		relative_position_id = SOV_the_second_october_revolution
		x = -2
		y = 1
		cost = 5
		ai_will_do = {
			factor = 6
		}
		search_filters = {  }
		prerequisite = {
			focus = SOV_the_second_october_revolution
		}
		bypass = {
			NOT = { has_idea = Soviet_Civil_War }
		}
		completion_reward = {
			add_ideas = SOV_comrades_onwards
		}
	}
	
	focus = {
		id = SOV_the_march_on_leningrad
		icon = GFX_focus_ARG_march_to_la_casa_rosada
		relative_position_id = SOV_the_second_october_revolution
		x = 0
		y = 1
		cost = 5
		ai_will_do = {
			factor = 6
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
		prerequisite = {
			focus = SOV_the_second_october_revolution
		}
		bypass = {
			NOT = { has_idea = Soviet_Civil_War }
		}
		available = {
			controls_state = 195
		}
		completion_reward = {
			division_template = { 
				name = "Red Riflemen"
				division_names_group = SOV_INF_01
				is_locked = no
				regiments = { 
					infantry = { x = 0 y = 0 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 2 y = 0 }
					infantry = { x = 3 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 1 y = 1 }
				}
				support = {
				}
			}
			195 = {
				create_unit = {
					division = "name = \"1. Red Riflemen\" division_template = \"Red Riflemen\" start_experience_factor = 0.5" 
					owner = ROOT
				}
				create_unit = { 
					division = "name = \"2. Red Riflemen\" division_template = \"Red Riflemen\" start_experience_factor = 0.5" 
					owner = ROOT
				}
				create_unit = { 
					division = "name = \"3. Red Riflemen\" division_template = \"Red Riflemen\" start_experience_factor = 0.5" 
					owner = ROOT
				}
				create_unit = {
					division = "name = \"4. Red Riflemen\" division_template = \"Red Riflemen\" start_experience_factor = 0.5" 
					owner = ROOT
				}
				create_unit = { 
					division = "name = \"5. Red Riflemen\" division_template = \"Red Riflemen\" start_experience_factor = 0.5" 
					owner = ROOT
				}
				create_unit = { 
					division = "name = \"6. Red Riflemen\" division_template = \"Red Riflemen\" start_experience_factor = 0.5" 
					owner = ROOT
				}
			}
		}
	}
	
	focus = {
		id = SOV_convince_tukahchevsky
		icon = GFX_focus_SOV_approach_tukahchevsky
		relative_position_id = SOV_the_second_october_revolution
		x = 2
		y = 1
		cost = 5
		ai_will_do = {
			factor = 6
		}
		search_filters = {  }
		prerequisite = {
			focus = SOV_the_second_october_revolution
		}
		bypass = {
			NOT = { has_idea = Soviet_Civil_War }
		}
		completion_reward = {
			custom_effect_tooltip = SOV_convince_tukahchevsky_effect
		}
	}
	
	focus = {
		id = SOV_Emergency_Production_Act
		icon = GFX_focus_generic_reorient_production
		relative_position_id = SOV_comrades_onwards
		x = 1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 6
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		prerequisite = {
			focus = SOV_comrades_onwards
			focus = SOV_the_march_on_leningrad
		}
		bypass = {
			NOT = { has_idea = Soviet_Civil_War }
		}
		completion_reward = {
			add_ideas = SOV_Emergency_Production_Act
		}
	}
	
	focus = {
		id = SOV_all_women_brigades
		icon = GFX_focus_ARG_women_in_industry
		relative_position_id = SOV_the_march_on_leningrad
		x = 1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 6
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
		prerequisite = {
			focus = SOV_convince_tukahchevsky
			focus = SOV_the_march_on_leningrad
		}
		bypass = {
			NOT = { has_idea = Soviet_Civil_War }
		}
		completion_reward = {
			add_manpower = 50000
			division_template = { 
				name = "Women Brigades"
				division_names_group = SOV_INF_01
				is_locked = yes
				regiments = { 
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
				}
				support = {
				}
			}
			random_owned_state = {
				create_unit = {
					division = "name = \"1. Women Brigades\" division_template = \"Women Brigades\" start_experience_factor = 0.5" 
					owner = ROOT
				}
				create_unit = { 
					division = "name = \"2. Women Brigades\" division_template = \"Women Brigades\" start_experience_factor = 0.5" 
					owner = ROOT
				}
				create_unit = { 
					division = "name = \"3. Women Brigades\" division_template = \"Women Brigades\" start_experience_factor = 0.5" 
					owner = ROOT
				}
				create_unit = {
					division = "name = \"4. Women Brigades\" division_template = \"Women Brigades\" start_experience_factor = 0.5" 
					owner = ROOT
				}
				create_unit = { 
					division = "name = \"5. Women Brigades\" division_template = \"Women Brigades\" start_experience_factor = 0.5" 
					owner = ROOT
				}
			}
		}
	}
	
	focus = {
		id = SOV_victory
		icon = GFX_focus_SOV_bukharinists
		relative_position_id = SOV_Emergency_Production_Act
		x = 1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 6
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		prerequisite = {
			focus = SOV_Emergency_Production_Act
		}
		prerequisite = {
			focus = SOV_all_women_brigades
		}
		available = {
			NOT = { has_idea = Soviet_Civil_War }
		}
		completion_reward = {
			add_political_power = 100
		}
	}
}